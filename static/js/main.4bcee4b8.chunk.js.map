{"version":3,"sources":["firebase.js","contexts/AuthContext.jsx","components/authentication/CenteredContainer.jsx","components/authentication/Signup.jsx","components/authentication/Profile.jsx","components/authentication/Login.jsx","components/authentication/PrivateRoute.jsx","components/authentication/ForgotPassword.jsx","components/authentication/UpdateProfile.jsx","hooks/useFolder.jsx","components/google-drive/ItemTypes.jsx","components/google-drive/Box.jsx","components/google-drive/Dustbin.jsx","components/google-drive/Container.jsx","components/google-drive/Navbar.jsx","actions/index.js","components/google-drive/AddFolderButton.jsx","components/google-drive/AddFileButton.jsx","hooks/useKeyboardShortcut.jsx","components/google-drive/Folder.jsx","components/google-drive/File.jsx","components/google-drive/FolderBreadcrumbs.jsx","components/google-drive/Dashboard.jsx","components/App.js","reportWebVitals.js","reducers/upDown.js","reducers/index.js","store.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","database","folders","collection","files","formatDoc","doc","id","data","getCurrentTimestamp","FieldValue","serverTimestamp","storage","auth","ref","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","CenteredContainer","className","style","minHeight","maxWidth","i","Signup","emailRef","useRef","passwordRef","passwordConfirmRef","error","setError","history","useHistory","e","preventDefault","current","push","Card","Body","Alert","variant","Form","onSubmit","Group","Label","Control","type","required","Button","disabled","to","Profile","onClick","Login","PrivateRoute","Component","component","restj","render","props","ForgotPassword","message","setMessage","UpdateProfile","promises","Promise","all","then","catch","finally","defaultValue","placeholder","ACTIONS","ROOT_FOLDER","name","path","reducer","state","payload","folderId","folder","childFiles","childFolders","ItemTypes","border","backgroundColor","padding","marginRight","marginBottom","float","Box","setOpen","setDrop","useDrag","item","end","monitor","dropResult","getDropResult","alertMessage","allowedDropEffect","dropEffect","isCopyAction","alert","collect","opacity","isDragging","drag","height","width","color","textAlign","fontSize","lineHeight","position","top","left","Dustbin","useDrop","accept","drop","isOver","canDrop","isActive","selectBackgroundColor","Container","overflow","clear","NavbarComponent","myState","useSelector","changeNumber","roleState","rolePermission","dispatch","useDispatch","title","document","body","console","log","target","checked","AddFolderButton","currentFolder","open","setName","closeModal","UserContext","size","icon","faFolderPlus","Modal","show","onHide","add","parentId","userId","uid","createdAt","onChange","Footer","DndProvider","backend","HTML5Backend","AddFileButton","uploadingFiles","setUploadingFiles","uploadOpertation","file","uuidV4","prevUploadingFiles","progress","filePath","join","uploadTask","put","on","snapshot","bytesTransferred","totalBytes","map","uploadFile","filter","getDownloadURL","url","where","get","existingFiles","existingFile","docs","update","faFileUpload","length","multiple","ReactDOM","createPortal","bottom","right","Toast","key","onClose","Header","closeButton","ProgressBar","animated","now","label","Math","round","useKeyboardShortcut","callback","targetKeys","currentPressed","keydownHandler","event","find","counter","forEach","targetKey","pressedKey","checkPressedKeys","keyupHandler","window","addEventListener","removeEventListener","Folder","edit","setEdit","setClicked","copiedData","setCopy","delete","folderArr","delFlag","setFlag","closest","contextMenu","getElementById","display","pathname","onContextMenu","cssText","mouseX","clientX","mouseY","clientY","classList","as","Link","faFolder","faCheck","faTimes","docRef","localStorage","setItem","exists","File","showDetails","setDetails","createdDate","setDate","href","faFile","split","dateString","Date","seconds","toUTCString","FolderBreadcrumbs","Breadcrumb","listProps","index","Item","linkAs","linkProps","slice","active","Dashboard","useParams","useLocation","useReducer","orderBy","onSnapshot","useFolder","childFolder","childFile","getItem","App","disableUpdateProfiles","dragMode","exact","testData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","actions","rootReducer","combineReducers","middlewares","ReduxThunk","store","createStore","compose","applyMiddleware","testPGH","renderDrive","containerId","StrictMode","unmountHeader","unmountComponentAtNode","createRoot"],"mappings":"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","file":"static/js/main.4bcee4b8.chunk.js","sourcesContent":["import firebase from \"firebase/app\"\r\nimport \"firebase/auth\"\r\nimport \"firebase/firestore\"\r\nimport \"firebase/storage\"\r\n\r\nconst app = firebase.initializeApp({// set up the sdk\r\n  apiKey: \"AIzaSyAx6mPjoJWfVFaDa1vglgzysvsZx2rX5Lw\",\r\n  authDomain: \"reactserver-f51af.firebaseapp.com\",\r\n  projectId: \"reactserver-f51af\",\r\n  storageBucket: \"reactserver-f51af.appspot.com\",\r\n  messagingSenderId: \"331628168350\",\r\n  appId: \"1:331628168350:web:062f2b6208dc489351a78f\"\r\n})\r\n\r\nconst firestore = app.firestore()\r\nexport const database = {//created a database\r\n  folders: firestore.collection(\"folders\"),\r\n  files: firestore.collection(\"files\"),\r\n  formatDoc: doc => {\r\n    return { id: doc.id, ...doc.data() }\r\n  },\r\n  getCurrentTimestamp: firebase.firestore.FieldValue.serverTimestamp,\r\n}\r\n\r\nexport const storage = firebase.firestore();\r\nexport const storageRef = firebase.storage().ref();\r\n\r\nexport const auth = app.auth()\r\nexport default app\r\n","import React, { useContext, useState, useEffect } from \"react\"\r\nimport { auth } from \"../firebase\"\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  function signup(email, password) {\r\n    return auth.createUserWithEmailAndPassword(email, password)//auth is coming from firebase\r\n  }\r\n\r\n  function login(email, password) {\r\n    return auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function logout() {\r\n    return auth.signOut()\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return auth.sendPasswordResetEmail(email)\r\n  }\r\n\r\n  function updateEmail(email) {\r\n    return currentUser.updateEmail(email)\r\n  }\r\n\r\n  function updatePassword(password) {\r\n    return currentUser.updatePassword(password)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user)\r\n      setLoading(false)\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n  const value = {\r\n    currentUser,\r\n    login,\r\n    signup,\r\n    logout,\r\n    resetPassword,\r\n    updateEmail,\r\n    updatePassword\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { Container } from \"react-bootstrap\"\r\n\r\nexport default function CenteredContainer({ children }) {\r\n  return (\r\n    <Container\r\n      className=\"d-flex align-items-center justify-content-center\"\r\n      style={{ minHeight: \"100vh\" }}\r\n    >\r\n      <div className=\"w-100\" style={{ maxWidth: \"400px\" }}>\r\n        {children}\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport CenteredContainer from \"./CenteredContainer\"\r\n\r\nexport default function Signup() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const { signup } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\")\r\n    }\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await signup(emailRef.current.value, passwordRef.current.value)\r\n      history.push(\"/\")\r\n    } catch {\r\n      setError(\"Failed to create an account\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <CenteredContainer>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Sign Up</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password-confirm\">\r\n              <Form.Label>Password Confirmation</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordConfirmRef} required />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Sign Up\r\n            </Button>\r\n          </Form>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Already have an account? <Link to=\"/login\">Log In</Link>\r\n      </div>\r\n    </CenteredContainer>\r\n  )\r\n}\r\n","import React, { useState } from \"react\"\r\nimport { Card, Button, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport CenteredContainer from \"./CenteredContainer\"\r\n\r\nexport default function Profile() {\r\n  const [error, setError] = useState(\"\")\r\n  const { currentUser, logout } = useAuth()\r\n  const history = useHistory();\r\n\r\n  async function handleLogout() {\r\n    setError(\"\")\r\n\r\n    try {\r\n      await logout()\r\n      history.push(\"/login\")\r\n    } catch {\r\n      setError(\"Failed to log out\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <CenteredContainer>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Profile</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <strong>Email:</strong> {currentUser.email}\r\n          <Link to=\"/update-profile\" className=\"btn btn-primary w-100 mt-3\">\r\n            Update Profile\r\n          </Link>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        <Button variant=\"link\" onClick={handleLogout}>\r\n          Log Out\r\n        </Button>\r\n      </div>\r\n    </CenteredContainer>\r\n  )\r\n}\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport CenteredContainer from \"./CenteredContainer\"\r\n\r\nexport default function Login() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const { login } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await login(emailRef.current.value, passwordRef.current.value)\r\n      history.push(\"/\")\r\n    } catch {\r\n      setError(\"Failed to log in\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <CenteredContainer>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Log In</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordRef} required />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Log In\r\n            </Button>\r\n          </Form>\r\n          <div className=\"w-100 text-center mt-3\">\r\n            <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n      </div>\r\n    </CenteredContainer>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\n\r\nexport default function PrivateRoute({ component: Component, ...restj }) {\r\n  const { currentUser } = useAuth()\r\n\r\n  return (\r\n    <Route\r\n      {...restj}\r\n      render={props => {\r\n        return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }}\r\n    ></Route>\r\n  )\r\n}\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link } from \"react-router-dom\"\r\nimport CenteredContainer from \"./CenteredContainer\"\r\n\r\nexport default function ForgotPassword() {\r\n  const emailRef = useRef()\r\n  const { resetPassword } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [message, setMessage] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setMessage(\"\")\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await resetPassword(emailRef.current.value)\r\n      setMessage(\"Check your inbox for further instructions\")\r\n    } catch {\r\n      setError(\"Failed to reset password\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <CenteredContainer>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Password Reset</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          {message && <Alert variant=\"success\">{message}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Reset Password\r\n            </Button>\r\n          </Form>\r\n          <div className=\"w-100 text-center mt-3\">\r\n            <Link to=\"/login\">Login</Link>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n      </div>\r\n    </CenteredContainer>\r\n  )\r\n}\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport CenteredContainer from \"./CenteredContainer\"\r\n\r\nexport default function UpdateProfile() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const { currentUser, updatePassword, updateEmail } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\")\r\n    }\r\n\r\n    const promises = []\r\n    setLoading(true)\r\n    setError(\"\")\r\n\r\n    if (emailRef.current.value !== currentUser.email) {\r\n      promises.push(updateEmail(emailRef.current.value))\r\n    }\r\n    if (passwordRef.current.value) {\r\n      promises.push(updatePassword(passwordRef.current.value))\r\n    }\r\n\r\n    Promise.all(promises)\r\n      .then(() => {\r\n        history.push(\"/user\")\r\n      })\r\n      .catch(() => {\r\n        setError(\"Failed to update account\")\r\n      })\r\n      .finally(() => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <CenteredContainer>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Update Profile</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                ref={emailRef}\r\n                required\r\n                defaultValue={currentUser.email}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                ref={passwordRef}\r\n                placeholder=\"Leave blank to keep the same\"\r\n              />\r\n            </Form.Group>\r\n            <Form.Group id=\"password-confirm\">\r\n              <Form.Label>Password Confirmation</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                ref={passwordConfirmRef}\r\n                placeholder=\"Leave blank to keep the same\"\r\n              />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Update\r\n            </Button>\r\n          </Form>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        <Link to=\"/user\">Cancel</Link>\r\n      </div>\r\n    </CenteredContainer>\r\n  )\r\n}\r\n","import { useReducer, useEffect } from \"react\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { database } from \"../firebase\"\r\n\r\nconst ACTIONS = {\r\n  SELECT_FOLDER: \"select-folder\",\r\n  UPDATE_FOLDER: \"update-folder\",\r\n  SET_CHILD_FOLDERS: \"set-child-folders\",\r\n  SET_CHILD_FILES: \"set-child-files\",\r\n}\r\n\r\nexport const ROOT_FOLDER = { name: \"Root\", id: null, path: [] }\r\n\r\nfunction reducer(state, { type, payload }) {\r\n  switch (type) {\r\n    case ACTIONS.SELECT_FOLDER:\r\n      return {\r\n        folderId: payload.folderId,\r\n        folder: payload.folder,\r\n        childFiles: [],\r\n        childFolders: [],\r\n      }\r\n    case ACTIONS.UPDATE_FOLDER:\r\n      return {\r\n        ...state,\r\n        folder: payload.folder,\r\n      }\r\n    case ACTIONS.SET_CHILD_FOLDERS:\r\n      return {\r\n        ...state,\r\n        childFolders: payload.childFolders,\r\n      }\r\n    case ACTIONS.SET_CHILD_FILES:\r\n      return {\r\n        ...state,\r\n        childFiles: payload.childFiles,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport function useFolder(folderId = null, folder = null) {\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    folderId,\r\n    folder,\r\n    childFolders: [],\r\n    childFiles: [],\r\n  })\r\n  const { currentUser } = useAuth()\r\n\r\n  useEffect(() => {//load folders when there is change in the folder set\r\n    dispatch({ type: ACTIONS.SELECT_FOLDER, payload: { folderId, folder } })\r\n  }, [folderId, folder])\r\n\r\n  useEffect(() => {//add root folder\r\n    if (folderId == null) {\r\n      return dispatch({\r\n        type: ACTIONS.UPDATE_FOLDER,\r\n        payload: { folder: ROOT_FOLDER },\r\n      })\r\n    }\r\n\r\n    database.folders\r\n      .doc(folderId)\r\n      .get()\r\n      .then(doc => {\r\n        dispatch({\r\n          type: ACTIONS.UPDATE_FOLDER,\r\n          payload: { folder: database.formatDoc(doc) },\r\n        })\r\n      })\r\n      .catch(() => {\r\n        dispatch({\r\n          type: ACTIONS.UPDATE_FOLDER,\r\n          payload: { folder: ROOT_FOLDER },\r\n        })\r\n      })\r\n  }, [folderId])\r\n\r\n  useEffect(() => {//add  child folders\r\n    return database.folders\r\n      .where(\"parentId\", \"==\", folderId)\r\n      .where(\"userId\", \"==\", currentUser.uid)\r\n      .orderBy(\"createdAt\")\r\n      .onSnapshot(snapshot => {\r\n        dispatch({\r\n          type: ACTIONS.SET_CHILD_FOLDERS,\r\n          payload: { childFolders: snapshot.docs.map(database.formatDoc) },\r\n        })\r\n      })\r\n  }, [folderId, currentUser])\r\n\r\n  useEffect(() => {//add folders\r\n    return (\r\n      database.files\r\n        .where(\"folderId\", \"==\", folderId)\r\n        .where(\"userId\", \"==\", currentUser.uid)\r\n        // .orderBy(\"createdAt\")\r\n        .onSnapshot(snapshot => {\r\n          dispatch({\r\n            type: ACTIONS.SET_CHILD_FILES,\r\n            payload: { childFiles: snapshot.docs.map(database.formatDoc) },\r\n          })\r\n        })\r\n    )\r\n  }, [folderId, currentUser])\r\n\r\n  return state\r\n}\r\n","export const ItemTypes = {\r\n    BOX: 'box',\r\n  }","import React, { useState } from 'react'\r\nimport { useDrag } from 'react-dnd'\r\nimport { ItemTypes } from './ItemTypes'\r\n\r\nconst style = {\r\n  border: '1px dashed gray',\r\n  backgroundColor: 'white',\r\n  padding: '0.5rem 1rem',\r\n  marginRight: '1.5rem',\r\n  marginBottom: '1.5rem',\r\n  float: 'left',\r\n}\r\nconst DropData = React.createContext();\r\nexport const Box = ({ name, setOpen }) => {\r\n  let [dropData, setDrop] = useState(false);\r\n  const [{ opacity }, drag] = useDrag(\r\n    () => ({\r\n      type: ItemTypes.BOX,\r\n      item: { name },\r\n      end(item, monitor) {\r\n        const dropResult = monitor.getDropResult()\r\n        if (item && dropResult) {\r\n          let alertMessage = ''\r\n          const isDropAllowed =\r\n            dropResult.allowedDropEffect === 'any' ||\r\n            dropResult.allowedDropEffect === dropResult.dropEffect\r\n          if (isDropAllowed) {\r\n            const isCopyAction = dropResult.dropEffect === 'copy'\r\n            const actionName = isCopyAction ? 'copied' : 'moved'\r\n            alertMessage = `You ${actionName} ${item.name} into ${dropResult.name}!`\r\n            setDrop(true);\r\n            setOpen(true);\r\n          } else {\r\n            alertMessage = `You cannot ${dropResult.dropEffect} an item into the ${dropResult.name}`\r\n          }\r\n          alert(alertMessage)\r\n\r\n        }\r\n      },\r\n      collect: (monitor) => ({\r\n        opacity: monitor.isDragging() ? 0.4 : 1,\r\n      }),\r\n    }),\r\n    [name],\r\n  )\r\n  return (<>\r\n    <div ref={drag} style={{ ...style, opacity }}>\r\n      {name}\r\n    </div>\r\n  </>\r\n  )\r\n}\r\nexport { DropData };\r\n","import React from 'react'\r\nimport { useDrop } from 'react-dnd'\r\nimport { ItemTypes } from './ItemTypes'\r\n\r\nconst style = {\r\n    height: '6rem',\r\n    width: '10rem',\r\n    marginRight: '1.5rem',\r\n    marginBottom: '1.5rem',\r\n    color: '#999999',\r\n    padding: '1rem',\r\n    textAlign: 'center',\r\n    fontSize: '1rem',\r\n    lineHeight: 'normal',\r\n    float: 'left',\r\n    position: 'fixed',\r\n    top: '4rem',\r\n    left: '37rem'\r\n  }\r\n  function selectBackgroundColor(isActive, canDrop) {\r\n    if (isActive) {\r\n      return 'darkgreen'\r\n    } else if (canDrop) {\r\n      return 'darkkhaki'\r\n    } else {\r\n      return '#CCCCFF'\r\n    }\r\n  }\r\n  export const Dustbin = ({ allowedDropEffect }) => {\r\n    const [{ canDrop, isOver }, drop] = useDrop(\r\n      () => ({\r\n        accept: ItemTypes.BOX,\r\n        drop: () => ({\r\n          name: `${allowedDropEffect} Dustbin`,\r\n          allowedDropEffect,\r\n        }),\r\n        collect: (monitor) => ({\r\n          isOver: monitor.isOver(),\r\n          canDrop: monitor.canDrop(),\r\n        }),\r\n      }),\r\n      [allowedDropEffect],\r\n    )\r\n    const isActive = canDrop && isOver\r\n    const backgroundColor = selectBackgroundColor(isActive, canDrop)\r\n    return (\r\n      <div ref={drop} style={{ ...style, backgroundColor }}>\r\n        <h3>+</h3>\r\n\r\n        {isActive ? 'Release to drop' : 'Drop here'}\r\n      </div>\r\n    )\r\n  }","import { Box } from './Box'\r\nimport { Dustbin } from './Dustbin'\r\nimport React from 'react'\r\n\r\nexport const Container = (props) => (\r\n  <div>\r\n    <div style={{ overflow: 'hidden', clear: 'both' }}>\r\n\r\n      <Dustbin allowedDropEffect=\"any\" />\r\n\r\n    </div>\r\n\r\n    <div style={{ overflow: 'hidden', clear: 'both' }}>\r\n      \r\n      <Box setOpen={props.setOpen} name=\"Add Folder\" />\r\n\r\n    </div>\r\n  </div>\r\n)\r\n","import React from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport './Navbar.scss';\r\nimport { incNumber, decNumber, editDrive, readDrive } from \"../../actions\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\n\r\nexport default function NavbarComponent() {\r\n  let myState = useSelector((state) => state.changeNumber);\r\n  let roleState = useSelector((state) => state.rolePermission)\r\n  let dispatch = useDispatch();\r\n  const editor = (e) =>{\r\n  console.log(e.target.checked);\r\n  if(e.target.checked){\r\n    debugger;\r\n    dispatch(editDrive());\r\n    console.log(roleState);\r\n  }\r\n\r\n   \r\n  }\r\nconst readOnly = (e) =>{\r\n  // debugger;\r\n  console.log(e.target.checked);\r\n  if(e.target.checked){\r\n    dispatch(readDrive())\r\n  }\r\n  console.log(roleState);\r\n}\r\n\r\n  return (\r\n    <nav className=\"navbar_outer\">\r\n      <div className=\"brand_nav\">\r\n        <p className=\"m-0\">MuCrest Drive</p>\r\n      </div>\r\n      <div>\r\n        Theme\r\n      </div>\r\n      <div className='quantity'>\r\n          <button className='quantity_minus' title='Decrement' onClick={() => { dispatch(decNumber()) }}>white</button>\r\n          {/* <input name='quantity' type='text' className='quantity_input' value={myState} /> */}\r\n          {\r\n            (myState === 'red') ? (document.body.style.backgroundColor = 'brown') : (document.body.style.backgroundColor = 'white')\r\n          }\r\n          <button className='quantity_plus' title='Increment' style={{backgroundColor:'brown', color: 'white'}}  onClick={() => { dispatch(incNumber()); console.log(myState); }}>gray</button>\r\n\r\n        </div>\r\n        <div>\r\n          Role\r\n        </div>\r\n        <div>\r\n          <label>\r\n            Editor\r\n          </label>\r\n          <input type='checkbox' onClick = {editor} />\r\n        </div>\r\n          \r\n\r\n         <div>\r\n          <label>\r\n            Read Only\r\n          </label>\r\n          <input type='checkbox' onClick = {readOnly} />\r\n         </div>\r\n          \r\n\r\n       \r\n      <div className=\"profile_nav\">\r\n        <p className=\"m-0\"><Link to='/user'> Profile </Link> </p>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n","export const incNumber = () => {\r\n    // debugger;\r\n    return {type:\"INCREMENT\"}\r\n}\r\n\r\nexport const decNumber = () => {\r\n    return {type:\"DECREMENT\"}\r\n}\r\n\r\nexport const editDrive = () => {\r\n    return {type: 'edit'}\r\n}\r\n\r\nexport const readDrive = () => {\r\n    return {type: 'read'}\r\n}","import React, { useContext,useState } from \"react\"\r\nimport { Button, Modal, Form } from \"react-bootstrap\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { faFolderPlus } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { database } from \"../../firebase\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\"\r\nimport { Container } from './Container'\r\nimport { DndProvider } from 'react-dnd'\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\nimport { UserContext } from \"../App\"\r\nimport { storage } from \"../../firebase\"\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport { useKeyboardShortcut } from \"./Navbar\"\r\nimport './AddFolder.scss'\r\n\r\nexport default function AddFolderButton({ currentFolder }) {\r\n\r\n  const [open, setOpen] = useState(false)\r\n  const [name, setName] = useState(\"\")\r\n  const { currentUser } = useAuth()\r\n\r\n  function openModal() {\r\n    setOpen(true)\r\n  }\r\n\r\n  function closeModal() {\r\n    setOpen(false)\r\n  }\r\n\r\n  const data = useContext(UserContext);\r\n\r\n  function handleSubmit(e) {//create new folder\r\n\r\n    e.preventDefault()\r\n    if (currentFolder == null) return\r\n\r\n    const path = [...currentFolder.path]\r\n    if (currentFolder !== ROOT_FOLDER) {\r\n      path.push({ name: currentFolder.name, id: currentFolder.id })\r\n    }\r\n\r\n    // console.log(database.folders);\r\n    database.folders.add({\r\n      name: name,\r\n      parentId: currentFolder.id,\r\n      userId: currentUser.uid,\r\n      path: path,\r\n      createdAt: database.getCurrentTimestamp(),\r\n    })\r\n    // console.log(database.folders.path);\r\n\r\n    setName(\"\")\r\n    closeModal()\r\n  }\r\n\r\n  function moveHere() {\r\n    var docRef = storage.collection(\"folders\").doc(currentFolder.id);\r\n\r\ndocRef.get().then((doc) => {\r\n    if (doc.exists) {\r\n        console.log(\"Document data:\", doc.data());\r\n    } else {\r\n        // doc.data() will be undefined in this case\r\n        console.log(\"No such document!\");\r\n    }\r\n}).catch((error) => {\r\n    console.log(\"Error getting document:\", error);\r\n});\r\n  }\r\n \r\n  \r\n\r\n\r\n  return (\r\n    <>\r\n\r\n      {!data && <label onClick={openModal} className=\"add_folder_icon_outer\" variant=\"outline-success\" size=\"sm\">\r\n        <FontAwesomeIcon icon={faFolderPlus} className=\"icon\" />\r\n      </label>}\r\n\r\n      <Modal show={open} onHide={closeModal}>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Modal.Body>\r\n            <Form.Group>\r\n              <Form.Label>Folder Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                required\r\n                value={name}\r\n                onChange={e => setName(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={closeModal}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"success\" type=\"submit\">\r\n              Add\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Form>\r\n      </Modal>\r\n      {data &&\r\n        <DndProvider backend={HTML5Backend}>\r\n          <Container setOpen={setOpen} />\r\n        </DndProvider>\r\n      }\r\n    </>\r\n  )\r\n}\r\n","import React, { useState } from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport { faFileUpload } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { useAuth } from \"../../contexts/AuthContext\"\r\nimport { database } from \"../../firebase\"\r\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\"\r\nimport { v4 as uuidV4 } from \"uuid\"\r\nimport { ProgressBar, Toast } from \"react-bootstrap\"\r\nimport firebase from \"firebase\"\r\nimport './AddFileButton.scss'\r\n\r\nexport default function AddFileButton({ currentFolder }) {//folders to be shown on the dahsboard\r\n  const [uploadingFiles, setUploadingFiles] = useState([])\r\n  const { currentUser } = useAuth()\r\n\r\n  function handleUpload(e) {// We are uploading the file from local system\r\n    for (let i = 0; i < e.target.files.length; i++) {\r\n      uploadOpertation(e.target.files[i]);\r\n    }\r\n  }\r\n  function uploadOpertation(file) {\r\n    if (currentFolder == null || file == null) return\r\n    const id = uuidV4()\r\n    setUploadingFiles(prevUploadingFiles => [\r\n      ...prevUploadingFiles,\r\n      { id: id, name: file.name, progress: 0, error: false },\r\n    ])\r\n    const filePath =\r\n      currentFolder === ROOT_FOLDER\r\n        ? `${currentFolder.path.join(\"/\")}/${file.name}`\r\n        : `${currentFolder.path.join(\"/\")}/${currentFolder.name}/${file.name}`\r\n\r\n\r\n\r\n    const uploadTask = firebase.storage().ref(`/files/${currentUser.uid}/${filePath}`)\r\n      .put(file);\r\n\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      snapshot => {\r\n        const progress = snapshot.bytesTransferred / snapshot.totalBytes\r\n        setUploadingFiles(prevUploadingFiles => {\r\n          return prevUploadingFiles.map(uploadFile => {\r\n            if (uploadFile.id === id) {\r\n              return { ...uploadFile, progress: progress }\r\n            }\r\n\r\n            return uploadFile\r\n          })\r\n        })\r\n      },\r\n      () => {\r\n        setUploadingFiles(prevUploadingFiles => {\r\n          return prevUploadingFiles.map(uploadFile => {\r\n            if (uploadFile.id === id) {\r\n              return { ...uploadFile, error: true }\r\n            }\r\n            return uploadFile\r\n          })\r\n        })\r\n      },\r\n      () => {\r\n        setUploadingFiles(prevUploadingFiles => {\r\n          return prevUploadingFiles.filter(uploadFile => {\r\n            return uploadFile.id !== id\r\n          })\r\n        })\r\n\r\n        uploadTask.snapshot.ref.getDownloadURL().then(url => {\r\n          database.files\r\n            .where(\"name\", \"==\", file.name)\r\n            .where(\"userId\", \"==\", currentUser.uid)\r\n            .where(\"folderId\", \"==\", currentFolder.id)\r\n            .get()\r\n            .then(existingFiles => {\r\n              const existingFile = existingFiles.docs[0]\r\n              if (existingFile) {\r\n                existingFile.ref.update({ url: url })\r\n              } else {\r\n                database.files.add({\r\n                  url: url,\r\n                  name: file.name,\r\n                  createdAt: database.getCurrentTimestamp(),\r\n                  folderId: currentFolder.id,\r\n                  userId: currentUser.uid,\r\n                })\r\n              }\r\n            })\r\n        })\r\n      }\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <label className=\"add_file_icon_outer\">\r\n        <FontAwesomeIcon icon={faFileUpload} className=\"icon\" />\r\n        <input\r\n          type=\"file\"\r\n          onChange={handleUpload} multiple\r\n          style={{ opacity: 0, position: \"absolute\", left: \"-9999px\" }}\r\n        />\r\n      </label>\r\n      {uploadingFiles.length > 0 &&\r\n        ReactDOM.createPortal(\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              bottom: \"1rem\",\r\n              right: \"1rem\",\r\n              maxWidth: \"250px\",\r\n            }}\r\n          >\r\n            {uploadingFiles.map(file => (\r\n              <Toast\r\n                key={file.id}\r\n                onClose={() => {\r\n                  setUploadingFiles(prevUploadingFiles => {\r\n                    return prevUploadingFiles.filter(uploadFile => {\r\n                      return uploadFile.id !== file.id\r\n                    })\r\n                  })\r\n                }}\r\n              >\r\n                <Toast.Header\r\n                  closeButton={file.error}\r\n                  className=\"text-truncate w-100 d-block\"\r\n                >\r\n                  {file.name}\r\n                </Toast.Header>\r\n                <Toast.Body>\r\n                  <ProgressBar\r\n                    animated={!file.error}\r\n                    variant={file.error ? \"danger\" : \"primary\"}\r\n                    now={file.error ? 100 : file.progress * 100}\r\n                    label={\r\n                      file.error\r\n                        ? \"Error\"\r\n                        : `${Math.round(file.progress * 100)}%`\r\n                    }\r\n                  />\r\n                </Toast.Body>\r\n              </Toast>\r\n            ))}\r\n          </div>,\r\n          document.body\r\n        )}\r\n    </>\r\n  )\r\n}\r\n","export const useKeyboardShortcut = (callback,targetKeys) => {\r\n    console.log('tesaja')\r\n     let currentPressed = [];\r\n     const checkPressedKeys = () =>{\r\n       \r\n       let counter  = targetKeys.length;\r\n       targetKeys.forEach(\r\n         targetKey =>{\r\n           if(currentPressed.find((pressedKey) => targetKey === pressedKey)){\r\n          counter -= 1;\r\n           }\r\n         }\r\n       )\r\n       return counter;\r\n     }\r\n     const keydownHandler = (event) =>{\r\n  \r\n       if(!currentPressed.find(e => e === event.key)){\r\n         currentPressed.push(event.key);\r\n       }\r\n       if(currentPressed.length === targetKeys.length){\r\n         if(checkPressedKeys() === 0){\r\n           callback();\r\n         }\r\n       }\r\n     }\r\n     const keyupHandler = (event) =>{\r\n       currentPressed = currentPressed.filter(e => e !== event.key)\r\n       \r\n     }\r\n  \r\n     window.addEventListener('keydown', keydownHandler); \r\n    window.addEventListener('keyup', keyupHandler);\r\n  \r\n    return () =>{\r\n     window.removeEventListener('keydown', keydownHandler);\r\n     window.removeEventListener('keyup', keyupHandler);\r\n    \r\n    }\r\n  \r\n   }","import React, { useEffect, useState } from \"react\"\r\nimport { Link, useLocation } from \"react-router-dom\"\r\nimport { Button } from \"react-bootstrap\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { faCheck, faFolder, faTimes } from \"@fortawesome/free-solid-svg-icons\"\r\nimport './Folder.scss'\r\nimport { database, storage } from \"../../firebase\"\r\nimport { useKeyboardShortcut } from \"../../hooks/useKeyboardShortcut\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { useCallback } from \"react\"\r\n\r\n// import { useKeyboardShortcut } from \"./Navbar\"\r\n\r\nexport default function Folder({ folder }) {\r\n  let [deletedId, setId] = useState(folder.id);\r\n  let [edit, setEdit] = useState(false);\r\n  let [name, setName] = useState(true);\r\n  let [clicked, setClicked] = useState(false);\r\n  let [copiedData, setCopy] = useState();\r\n  let myState = useSelector((state) => state.rolePermission);\r\n\r\n  function test123() {\r\n\r\n    if (copiedData) {\r\n      database.folders.doc(folder.id).delete();\r\n      database.folders.add(copiedData);\r\n      setCopy('');\r\n    }\r\n\r\n  }\r\n\r\n  useKeyboardShortcut(test123, ['Shift', 'Enter']);\r\n\r\n  \r\n\r\n  let [folderArr, setArr] = useState([]);\r\n  let [delFlag, setFlag] = useState(false);\r\n\r\n\r\n  const deleteFolder = () => {\r\n\r\n    if (myState === 'read') {\r\n      alert(`You don't have the permission to delete this folder`);\r\n      return;\r\n    }\r\n\r\n    else {\r\n      database.folders.doc(folder.id)\r\n        .delete()\r\n        .then((docRef) => {\r\n          console.log(docRef.data())\r\n\r\n\r\n\r\n        })\r\n        .catch((error) => { });\r\n        setFlag(true)\r\n    }\r\n\r\n\r\n  }\r\n\r\n    \r\n      document.addEventListener('click', function (e) {//if a user click outside right click menubar\r\n        let inside = (e.target.closest('#container'));\r\n        if (!inside && folder.id) {\r\n          let contextMenu = document.getElementById(folder.id);\r\n          if(contextMenu){\r\n            contextMenu.style.display = 'none';\r\n          }\r\n          setClicked(false);\r\n        }\r\n      });\r\n\r\n      \r\n    \r\n\r\n  \r\n\r\n\r\n  useEffect(() =>{\r\n    // console.log(folder.name);\r\n    // setArr(...folder.name)\r\n    // console.log(folder.id);\r\n    console.log(delFlag);\r\n    \r\n  },[delFlag])\r\n\r\n\r\n  const saveData = () => {//to update the name of the folder\r\n    database.folders.doc(folder.id).update({ name: name });\r\n    console.log(folderArr);\r\n    setEdit(false);\r\n  }\r\n\r\n  const showItems = (event) => {//show menu on on right click\r\n    event.preventDefault();\r\n    setClicked(true);\r\n    // setFlag(false);\r\n    let contextMenu = document.getElementById(folder.id);\r\n    console.log(contextMenu);\r\n    contextMenu.style.cssText = `\r\n    position: fixed;\r\n    z-index: 10000;\r\n    width: 150px;\r\n    background: #1b1a1a;\r\n    border-radius: 5px;\r\n    display: none;\r\n    color: white;\r\n    `;\r\n    const { clientX: mouseX, clientY: mouseY } = event;\r\n    contextMenu.style.top = `${mouseY}px`;\r\n    contextMenu.style.left = `${mouseX}px`;\r\n    contextMenu.classList.add(\"visible\");\r\n    contextMenu.classList.add(\"block\");\r\n    contextMenu.style.display = 'block';\r\n  }\r\n  function setPassword() {\r\n    console.log('test pg');\r\n    return;\r\n  }\r\n\r\n  function moveFolder() {\r\n\r\n    console.log(myState);\r\n\r\n    if (myState === 'read') {\r\n      alert(`You don't have the permission to move this folder`);\r\n      return;\r\n    }\r\n    else {\r\n      localStorage.setItem(\"moveId\", folder.id);\r\n      var docRef = storage.collection(\"folders\").doc(folder.id);\r\n\r\n      docRef.get().then((doc) => {\r\n        if (doc.exists) {\r\n          console.log(\"Document data:\", doc.data());\r\n        } else {\r\n          console.log(\"No such document!\");\r\n        }\r\n      }).catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  \r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      {!edit && <Button onClick={setPassword} className=\"dashboard_folder_icon\"\r\n\r\n\r\n        to={{\r\n          pathname: `/folder/${folder.id}`,\r\n          state: { folder: folder },\r\n        }}\r\n        onContextMenu={showItems}\r\n\r\n        as={Link}\r\n      >\r\n        <div className=\"icon_part\">\r\n          <FontAwesomeIcon icon={faFolder} className=\"icon\" />\r\n        </div>\r\n        <div className=\"name_part\">\r\n          {copiedData &&\r\n            <i className=\"m-0\">\r\n              {folder.name}\r\n            </i>\r\n          }\r\n          {!copiedData &&\r\n            <p className=\"m-0\">\r\n              {folder.name}\r\n            </p>\r\n          }\r\n        </div>\r\n\r\n      </Button>}\r\n      {\r\n        edit && <div className=\"edit_mode_outer\">\r\n          <div className=\"input\">\r\n            <input type=\"text\" placeholder=\"Enter the Folder Name\" defaultValue={folder.name} onChange={(e) => { e.preventDefault(); console.log(e.target.value); setName(e.target.value) }} />\r\n          </div>\r\n          <div className=\"editButtons\">\r\n            <div className=\"iconOuter saveIcon\">\r\n              <FontAwesomeIcon onClick={saveData} icon={faCheck} className=\"icon\" />\r\n            </div>\r\n            <div className=\"iconOuter cancelIcon\">\r\n              <FontAwesomeIcon onClick={() => setEdit(false)} icon={faTimes} className=\"icon\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n\r\n      { folder.id &&\r\n      \r\n        <div className=\"menu_container\" style={{ display: 'none' }} id={folder.id} >\r\n          <div className=\"item\" onClick={deleteFolder}>delete</div>\r\n          <div className=\"item\" onClick={() => {\r\n            if (myState === 'read') {\r\n              alert(`You don't have the permission to rename this folder`);\r\n              return;\r\n            } else setEdit(true)\r\n          }}>rename</div>\r\n          {/* <div className=\"item\" onClick={() => { navigator.clipboard.writeText(folder.name) }}>copy</div> */}\r\n          <div className=\"item\" onClick={moveFolder} >move</div>\r\n          {/* <div className=\"item\">paste</div> */}\r\n          <div className=\"item\">properties</div>\r\n        </div>}\r\n\r\n    </>\r\n  )\r\n}\r\n","import { faFile } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { database, storage } from \"../../firebase\"\r\nimport './File.scss'\r\nexport default function File({ file }) {//files shown in dahsboard\r\n  let [clicked, setClicked] = useState(false);\r\n  let [copiedData, setCopy] = useState();\r\n  let [showDetails, setDetails] = useState(false);\r\n  let [createdDate, setDate] = useState();\r\n\r\n  const showItems = (event) => {//show menu on on right click\r\n    event.preventDefault();\r\n    setClicked(true);\r\n    let contextMenu = document.getElementById(file.id);\r\n    console.log(contextMenu);\r\n    contextMenu.style.cssText = `\r\n    position: fixed;\r\n    z-index: 10000;\r\n    width: 150px;\r\n    background: #1b1a1a;\r\n    border-radius: 5px;\r\n    display: none;\r\n    color: white;\r\n    `;\r\n    const { clientX: mouseX, clientY: mouseY } = event;\r\n    contextMenu.style.top = `${mouseY}px`;\r\n    contextMenu.style.left = `${mouseX}px`;\r\n    contextMenu.classList.add(\"visible\");\r\n    contextMenu.classList.add(\"block\");\r\n    contextMenu.style.display = 'block';\r\n  }\r\n\r\n  document.addEventListener('click', function (e) {//if a user click outside right click menubar\r\n    let inside = (e.target.closest('#container'));\r\n    if (!inside && file.id) {\r\n      let contextMenu = document.getElementById(file.id);\r\n      if (contextMenu) {\r\n        contextMenu.style.display = 'none';\r\n      }\r\n      setClicked(false);\r\n    }\r\n  });\r\n\r\n  function moveFile() {\r\n    localStorage.setItem(\"moveFileId\", file.id);\r\n    var docRef = storage.collection(\"files\").doc(file.id);\r\n\r\n    docRef.get().then((doc) => {\r\n      if (doc.exists) {\r\n        console.log(\"Document data:\", doc.data());\r\n      } else {\r\n        console.log(\"No such document!\");\r\n      }\r\n    }).catch((error) => {\r\n      console.log(\"Error getting document:\", error);\r\n    });\r\n  }\r\n\r\n  function getProps(e) {\r\n    e.preventDefault();\r\n    setDetails(true);\r\n    database.files.doc(file.id)\r\n      .get()\r\n      .then((docRef) => {\r\n        console.log(docRef.data())\r\n        var theDate = new Date(docRef.data().createdAt.seconds * 1000);\r\n        let dateString = theDate.toUTCString();\r\n        setDate(dateString);\r\n        setCopy(docRef.data());\r\n\r\n      })\r\n      .catch((error) => { });\r\n\r\n  }\r\n\r\n  function deletFile() {\r\n\r\n    database.files.doc(file.id)\r\n      .delete()\r\n      .then((docRef) => {\r\n        console.log(docRef.data())\r\n\r\n\r\n\r\n      })\r\n      .catch((error) => { });\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n\r\n      <a\r\n        href={file.url} className=\"each_file_icon\" onContextMenu={showItems}>\r\n        <FontAwesomeIcon icon={faFile} className=\"file_icon\" />\r\n        <div className=\"file_name\">\r\n\r\n          <p className=\"m-0\">\r\n\r\n            {file.name}\r\n          </p>\r\n        </div>\r\n      </a>\r\n      {\r\n        showDetails &&\r\n\r\n        <div className=\"properties_outer\" >\r\n          <div className=\"properties_inner\">\r\n            <div className=\"close_icon\" onClick={() => setDetails(false)}>X</div>\r\n            <h4>\r\n              Details\r\n            </h4>\r\n            <div>\r\n              Name: {file.name.split('.')[0]}\r\n            </div>\r\n            <div></div>\r\n            <div>\r\n              Created Date: {createdDate}\r\n            </div>\r\n            <div>\r\n              Type: {file.name.split('.')[file.name.split('.').length - 1]}\r\n            </div>\r\n            <div>\r\n              Url: <a href={file.url}>{file.url}</a>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n\r\n      }\r\n      {\r\n        <div className=\"menu_container\" style={{ display: 'none' }} id={file.id} >\r\n          <div className=\"item\" onClick={deletFile}>delete</div>\r\n          <div className=\"item\" onClick={moveFile}>move</div>\r\n          <div className=\"item\" onClick={getProps}>properties</div>\r\n        </div>}\r\n    </>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { Breadcrumb } from \"react-bootstrap\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { ROOT_FOLDER } from \"../../hooks/useFolder\"\r\n\r\nexport default function FolderBreadcrumbs({ currentFolder }) {//Breadcrumbs to show the active routes\r\n  let path = currentFolder === ROOT_FOLDER ? [] : [ROOT_FOLDER]\r\n  if (currentFolder) path = [...path, ...currentFolder.path]\r\n\r\n  return (\r\n    <>\r\n      <Breadcrumb\r\n        className=\"flex-grow-1\"\r\n        listProps={{ className: \"bg-white pl-0 m-0\" }}\r\n      >\r\n        {path.map((folder, index) => (\r\n          <Breadcrumb.Item\r\n            key={folder.id}\r\n            linkAs={Link}\r\n            linkProps={{\r\n              to: {\r\n                pathname: folder.id ? `/folder/${folder.id}` : \"/\",\r\n                state: { folder: { ...folder, path: path.slice(1, index) } },\r\n              },\r\n            }}\r\n            className=\"text-truncate d-inline-block\"\r\n            style={{ maxWidth: \"150px\" }}\r\n          >\r\n            {folder.name}\r\n          </Breadcrumb.Item>\r\n        ))}\r\n        {currentFolder && (\r\n          <Breadcrumb.Item\r\n            className=\"text-truncate d-inline-block\"\r\n            style={{ maxWidth: \"200px\" }}\r\n            active\r\n          >\r\n            {currentFolder.name}\r\n          </Breadcrumb.Item>\r\n        )}\r\n      </Breadcrumb></>\r\n  )\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\"\r\nimport { useFolder } from \"../../hooks/useFolder\"\r\nimport AddFolderButton from \"./AddFolderButton\"\r\nimport AddFileButton from \"./AddFileButton\"\r\nimport Folder from \"./Folder\"\r\nimport File from \"./File\"\r\nimport Navbar from \"./Navbar\"\r\nimport FolderBreadcrumbs from \"./FolderBreadcrumbs\"\r\nimport { useParams, useLocation } from \"react-router-dom\"\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { faTrash, faEdit } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { database } from \"../../firebase\"\r\nimport { Modal, Form, Button } from \"react-bootstrap\"\r\nimport './Dashboard.scss'\r\nimport { incNumber, decNumber } from \"../../actions\"\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { storage } from \"../../firebase\"\r\n\r\nexport default function Dashboard() {//dashboard to show the folders and files\r\n  const { folderId } = useParams()\r\n  const { state = {} } = useLocation()\r\n  const { folder, childFolders, childFiles } = useFolder(folderId, state.folder)\r\n  const [open, setOpen] = useState(false)\r\n  const [name, setName] = useState(\"\")\r\n  let myState = useSelector((state) => state.changeNumber);\r\n  let dispatch = useDispatch();\r\n\r\n  function openModal() {\r\n    setOpen(true)\r\n  }\r\n\r\n  function moveHere() {\r\n    if (localStorage.getItem(\"moveId\")) {\r\n      database.folders.doc(localStorage.getItem(\"moveId\")).update({ parentId: folder.id, path: [...folder.path] });\r\n      localStorage.clear(\"moveId\");\r\n    }\r\n    if (localStorage.getItem(\"moveFileId\")) {\r\n      database.files.doc(localStorage.getItem(\"moveFileId\")).update({ folderId: folder.id });\r\n      localStorage.clear(\"moveFileId\");\r\n    }\r\n\r\n  }\r\n\r\n  function closeModal() {\r\n    setOpen(false)\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <section className=\"dashboard_container_outer\">\r\n        <div className=\"breadcrums_file_folder_outer d-flex justify-content-center align-items-center\" >\r\n          <FolderBreadcrumbs currentFolder={folder} />\r\n          <AddFileButton currentFolder={folder} />\r\n          <div className=\"ml-3\">\r\n            <AddFolderButton currentFolder={folder} />\r\n\r\n          </div>\r\n\r\n        </div>\r\n        <div className=\"folder_file_container_outer\">\r\n          <div className=\"folder_file_container_outer_inner\">\r\n\r\n            {childFolders.length > 0 && (\r\n              <div className=\"folder_file_container_inner\">\r\n                {childFolders.map(childFolder => (\r\n                  <div\r\n                    key={childFolder.id}\r\n                  >\r\n                    <Modal show={open} onHide={closeModal}>\r\n                      <Form onSubmit={(e) => {\r\n                        e.preventDefault();\r\n\r\n                        setOpen(false)\r\n                      }}>\r\n                        <Modal.Body>\r\n                          <Form.Group>\r\n                            <Form.Label>Folder Name</Form.Label>\r\n                            <Form.Control\r\n                              type=\"text\"\r\n                              required\r\n                              value={name}\r\n                              onChange={e => setName(e.target.value)}\r\n                            />\r\n                          </Form.Group>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                          <Button variant=\"secondary\" onClick={closeModal}>\r\n                            Close\r\n                          </Button>\r\n                          <Button variant=\"success\" type=\"submit\">\r\n                            Update Folder\r\n                          </Button>\r\n                        </Modal.Footer>\r\n                      </Form>\r\n                    </Modal>\r\n                    <Folder folder={childFolder} />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n            {childFolders.length > 0 && childFiles.length > 0 && <hr />}\r\n            {childFiles.length > 0 && (\r\n              <div className=\"folder_file_container_inner\">\r\n                {childFiles.map(childFile => (\r\n                  <div\r\n                    key={childFile.id}\r\n                    style={{ maxWidth: \"250px\" }}\r\n                    className=\"p-2\"\r\n                  >\r\n                    <File file={childFile} />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n        {\r\n          (localStorage.getItem(\"moveId\") || localStorage.getItem(\"moveFileId\")) &&\r\n          <section className=\"move_part\" onClick={moveHere}>\r\n            <p>\r\n              Move Here\r\n            </p>\r\n          </section>\r\n        }\r\n\r\n\r\n\r\n      </section>\r\n\r\n\r\n\r\n\r\n    </>\r\n  )\r\n}\r\n","import React, { useContext, createContext } from \"react\"\r\nimport Signup from \"./authentication/Signup\"\r\nimport { AuthProvider } from \"../contexts/AuthContext\"\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport Profile from \"./authentication/Profile\"\r\nimport Login from \"./authentication/Login\"\r\nimport PrivateRoute from \"./authentication/PrivateRoute\"\r\nimport ForgotPassword from \"./authentication/ForgotPassword\"\r\nimport UpdateProfile from \"./authentication/UpdateProfile\"\r\nimport Dashboard from \"./google-drive/Dashboard\"\r\nconst UserContext = createContext();\r\nfunction App(props) {\r\n  const tsData = 'lauasndas';\r\n  if (props.disableUpdateProfiles) {\r\n\r\n\r\n\r\n    return (\r\n      <>\r\n        <UserContext.Provider value={props.dragMode}>\r\n          <Router>\r\n            <AuthProvider>\r\n              <Switch>\r\n                {/* Drive */}\r\n                <PrivateRoute exact path=\"/\" testData='test data' component={Dashboard} />\r\n                <PrivateRoute exact path=\"/folder/:folderId\" component={Dashboard} />\r\n\r\n                {/* Auth */}\r\n                <Route path=\"/signup\" component={Signup} />\r\n                <Route path=\"/login\" component={Login} />\r\n                <Route path=\"/forgot-password\" component={ForgotPassword} />\r\n              </Switch>\r\n            </AuthProvider>\r\n          </Router>\r\n        </UserContext.Provider>\r\n      </>\r\n\r\n    )\r\n  }\r\n  if (!props.disableUpdateProfiles) {\r\n    return (\r\n      <>\r\n\r\n        <UserContext.Provider value={props.dragMode}>\r\n          <Router>\r\n            <AuthProvider>\r\n              <Switch>\r\n                {/* Drive */}\r\n                <PrivateRoute exact path=\"/\" component={Dashboard} />\r\n                <PrivateRoute exact path=\"/folder/:folderId\" component={Dashboard} />\r\n\r\n                {/* Profile */}\r\n                <PrivateRoute path=\"/user\" component={Profile} />\r\n\r\n                <PrivateRoute path=\"/update-profile\" component={UpdateProfile} />\r\n\r\n                {/* Auth */}\r\n                <Route path=\"/signup\" component={Signup} />\r\n                <Route path=\"/login\" component={Login} />\r\n                <Route path=\"/forgot-password\" component={ForgotPassword} />\r\n              </Switch>\r\n            </AuthProvider>\r\n\r\n          </Router>\r\n\r\n        </UserContext.Provider>\r\n\r\n\r\n      </>\r\n\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default App;\r\nexport { UserContext };\r\n","const reportWebVitals = onPerfEntry => {\r\n    if (onPerfEntry && onPerfEntry instanceof Function) {\r\n      import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n        getCLS(onPerfEntry);\r\n        getFID(onPerfEntry);\r\n        getFCP(onPerfEntry);\r\n        getLCP(onPerfEntry);\r\n        getTTFB(onPerfEntry);\r\n      });\r\n    }\r\n  };\r\n  \r\n  export default reportWebVitals;\r\n  ","const initialState = 'test';\r\n\r\nconst changeNumber = (state = initialState, actions) => {\r\n\r\n    switch(actions.type) {\r\n        case 'INCREMENT': return 'red';\r\n        \r\n        case 'DECREMENT': return 'blue';\r\n        \r\n        default: return state;\r\n    }\r\n\r\n}\r\nconst initialState2 = 'test';\r\nexport const rolePermission = (state = initialState2, actions) => {\r\n\r\n    switch(actions.type) {\r\n        case 'edit': return 'edit';\r\n        \r\n        case 'read': return 'read';\r\n        \r\n        default: return state;\r\n    }\r\n\r\n}\r\n\r\nexport default changeNumber;\r\n","import changeNumber from \"./upDown\";\r\nimport { rolePermission } from \"./upDown\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst rootReducer = combineReducers(\r\n    {\r\n        changeNumber: changeNumber,\r\n        rolePermission: rolePermission\r\n    }\r\n)\r\nexport default rootReducer;","import { createStore, compose, applyMiddleware } from \"redux\";\r\nimport ReduxThunk from 'redux-thunk';\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst middlewares = [ReduxThunk];\r\nconst store = createStore(rootReducer, compose(applyMiddleware(...middlewares)));\r\n\r\nexport default store;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nwindow.testPGH = () => {\r\n  console.log('drive fetched');\r\n}\r\nwindow.renderDrive = (containerId, data) => {\r\n\r\n  ReactDOM.render(\r\n    <>\r\n      <React.StrictMode>\r\n        <App {...data} />\r\n      </React.StrictMode>\r\n    </>,\r\n    document.getElementById(containerId)\r\n  );\r\n}\r\n\r\n\r\nwindow.unmountHeader = containerId => {\r\n  ReactDOM.unmountComponentAtNode(document.getElementById(containerId));\r\n};\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n\r\n  </React.StrictMode>\r\n);\r\nreportWebVitals();\r\n"],"sourceRoot":""}