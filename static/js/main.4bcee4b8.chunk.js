/*! For license information please see main.4bcee4b8.chunk.js.LICENSE.txt */
(this.webpackJsonpmucrest_store=this.webpackJsonpmucrest_store||[]).push([[0],{101:function(e,t,r){},105:function(e,t,r){},113:function(e,t,r){},114:function(e,t,r){},115:function(e,t,r){},116:function(e,t,r){},118:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(19),c=r.n(o),i=r(33),l=r(6),u=r(135),s=r(132),f=r(129),d=r(125),m=r(13),h=r(51),p=r.n(h),v=(r(93),r(73),r(95),p.a.initializeApp({apiKey:"AIzaSyAx6mPjoJWfVFaDa1vglgzysvsZx2rX5Lw",authDomain:"reactserver-f51af.firebaseapp.com",projectId:"reactserver-f51af",storageBucket:"reactserver-f51af.appspot.com",messagingSenderId:"331628168350",appId:"1:331628168350:web:062f2b6208dc489351a78f"})),y=v.firestore(),g={folders:y.collection("folders"),files:y.collection("files"),formatDoc:function(e){return Object(m.a)({id:e.id},e.data())},getCurrentTimestamp:p.a.firestore.FieldValue.serverTimestamp},E=p.a.firestore(),b=(p.a.storage().ref(),v.auth()),w=a.a.createContext();function O(){return Object(n.useContext)(w)}function x(e){var t=e.children,r=Object(n.useState)(),o=Object(l.a)(r,2),c=o[0],i=o[1],u=Object(n.useState)(!0),s=Object(l.a)(u,2),f=s[0],d=s[1];Object(n.useEffect)((function(){return b.onAuthStateChanged((function(e){i(e),d(!1)}))}),[]);var m={currentUser:c,login:function(e,t){return b.signInWithEmailAndPassword(e,t)},signup:function(e,t){return b.createUserWithEmailAndPassword(e,t)},logout:function(){return b.signOut()},resetPassword:function(e){return b.sendPasswordResetEmail(e)},updateEmail:function(e){return c.updateEmail(e)},updatePassword:function(e){return c.updatePassword(e)}};return a.a.createElement(w.Provider,{value:m},!f&&t)}var j=r(15),L=r(12),N=r(124);function k(e){var t=e.children;return a.a.createElement(N.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"}},a.a.createElement("div",{className:"w-100",style:{maxWidth:"400px"}},t))}function _(){_=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(S){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,c=Object.create(o.prototype),i=new L(a||[]);return n(c,"_invoke",{value:w(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function d(){}function m(){}function h(){}var p={};l(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(N([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=h.prototype=d.prototype=Object.create(p);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=O(c,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:m,configurable:!0}),m.displayName=l(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},E(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function S(){var e=Object(n.useRef)(),t=Object(n.useRef)(),r=Object(n.useRef)(),o=O().signup,c=Object(n.useState)(""),m=Object(l.a)(c,2),h=m[0],p=m[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),g=y[0],E=y[1],b=Object(j.g)();function w(){return(w=Object(i.a)(_().mark((function n(a){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),t.current.value===r.current.value){n.next=3;break}return n.abrupt("return",p("Passwords do not match"));case 3:return n.prev=3,p(""),E(!0),n.next=8,o(e.current.value,t.current.value);case 8:b.push("/"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),p("Failed to create an account");case 14:E(!1);case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))).apply(this,arguments)}return a.a.createElement(k,null,a.a.createElement(u.a,null,a.a.createElement(u.a.Body,null,a.a.createElement("h2",{className:"text-center mb-4"},"Sign Up"),h&&a.a.createElement(s.a,{variant:"danger"},h),a.a.createElement(f.a,{onSubmit:function(e){return w.apply(this,arguments)}},a.a.createElement(f.a.Group,{id:"email"},a.a.createElement(f.a.Label,null,"Email"),a.a.createElement(f.a.Control,{type:"email",ref:e,required:!0})),a.a.createElement(f.a.Group,{id:"password"},a.a.createElement(f.a.Label,null,"Password"),a.a.createElement(f.a.Control,{type:"password",ref:t,required:!0})),a.a.createElement(f.a.Group,{id:"password-confirm"},a.a.createElement(f.a.Label,null,"Password Confirmation"),a.a.createElement(f.a.Control,{type:"password",ref:r,required:!0})),a.a.createElement(d.a,{disabled:g,className:"w-100",type:"submit"},"Sign Up")))),a.a.createElement("div",{className:"w-100 text-center mt-2"},"Already have an account? ",a.a.createElement(L.b,{to:"/login"},"Log In")))}function F(){F=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(_){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,c=Object.create(o.prototype),i=new L(a||[]);return n(c,"_invoke",{value:w(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(_){return{type:"throw",arg:_}}}e.wrap=u;var f={};function d(){}function m(){}function h(){}var p={};l(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(N([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=h.prototype=d.prototype=Object.create(p);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=O(c,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:m,configurable:!0}),m.displayName=l(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},E(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function I(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),r=t[0],o=t[1],c=O(),f=c.currentUser,m=c.logout,h=Object(j.g)();function p(){return(p=Object(i.a)(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(""),e.prev=1,e.next=4,m();case 4:h.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),o("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return a.a.createElement(k,null,a.a.createElement(u.a,null,a.a.createElement(u.a.Body,null,a.a.createElement("h2",{className:"text-center mb-4"},"Profile"),r&&a.a.createElement(s.a,{variant:"danger"},r),a.a.createElement("strong",null,"Email:")," ",f.email,a.a.createElement(L.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3"},"Update Profile"))),a.a.createElement("div",{className:"w-100 text-center mt-2"},a.a.createElement(d.a,{variant:"link",onClick:function(){return p.apply(this,arguments)}},"Log Out")))}function C(){C=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(_){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,c=Object.create(o.prototype),i=new L(a||[]);return n(c,"_invoke",{value:w(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(_){return{type:"throw",arg:_}}}e.wrap=u;var f={};function d(){}function m(){}function h(){}var p={};l(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(N([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=h.prototype=d.prototype=Object.create(p);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=O(c,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:m,configurable:!0}),m.displayName=l(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},E(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function P(){var e=Object(n.useRef)(),t=Object(n.useRef)(),r=O().login,o=Object(n.useState)(""),c=Object(l.a)(o,2),m=c[0],h=c[1],p=Object(n.useState)(!1),v=Object(l.a)(p,2),y=v[0],g=v[1],E=Object(j.g)();function b(){return(b=Object(i.a)(C().mark((function n(a){return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,h(""),g(!0),n.next=6,r(e.current.value,t.current.value);case 6:E.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),h("Failed to log in");case 12:g(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}return a.a.createElement(k,null,a.a.createElement(u.a,null,a.a.createElement(u.a.Body,null,a.a.createElement("h2",{className:"text-center mb-4"},"Log In"),m&&a.a.createElement(s.a,{variant:"danger"},m),a.a.createElement(f.a,{onSubmit:function(e){return b.apply(this,arguments)}},a.a.createElement(f.a.Group,{id:"email"},a.a.createElement(f.a.Label,null,"Email"),a.a.createElement(f.a.Control,{type:"email",ref:e,required:!0})),a.a.createElement(f.a.Group,{id:"password"},a.a.createElement(f.a.Label,null,"Password"),a.a.createElement(f.a.Control,{type:"password",ref:t,required:!0})),a.a.createElement(d.a,{disabled:y,className:"w-100",type:"submit"},"Log In")),a.a.createElement("div",{className:"w-100 text-center mt-3"},a.a.createElement(L.b,{to:"/forgot-password"},"Forgot Password?")))),a.a.createElement("div",{className:"w-100 text-center mt-2"},"Need an account? ",a.a.createElement(L.b,{to:"/signup"},"Sign Up")))}var G=r(85),D=["component"];function T(e){var t=e.component,r=Object(G.a)(e,D),n=O().currentUser;return a.a.createElement(j.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(t,e):a.a.createElement(j.a,{to:"/login"})}}))}function R(){R=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(_){l=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof d?t:d,c=Object.create(o.prototype),i=new L(a||[]);return n(c,"_invoke",{value:w(e,r,i)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(_){return{type:"throw",arg:_}}}e.wrap=u;var f={};function d(){}function m(){}function h(){}var p={};l(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(N([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=h.prototype=d.prototype=Object.create(p);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t((function(a,c){!function n(a,o,c,i){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,i)}),(function(e){n("throw",e,c,i)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,i)}))}i(l.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=O(c,r);if(i){if(i===f)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function O(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:m,configurable:!0}),m.displayName=l(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(b.prototype),l(b.prototype,c,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},E(g),l(g,i,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function A(){var e=Object(n.useRef)(),t=O().resetPassword,r=Object(n.useState)(""),o=Object(l.a)(r,2),c=o[0],m=o[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),v=p[0],y=p[1],g=Object(n.useState)(!1),E=Object(l.a)(g,2),b=E[0],w=E[1];function x(){return(x=Object(i.a)(R().mark((function r(n){return R().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),r.prev=1,y(""),m(""),w(!0),r.next=7,t(e.current.value);case 7:y("Check your inbox for further instructions"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),m("Failed to reset password");case 13:w(!1);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))).apply(this,arguments)}return a.a.createElement(k,null,a.a.createElement(u.a,null,a.a.createElement(u.a.Body,null,a.a.createElement("h2",{className:"text-center mb-4"},"Password Reset"),c&&a.a.createElement(s.a,{variant:"danger"},c),v&&a.a.createElement(s.a,{variant:"success"},v),a.a.createElement(f.a,{onSubmit:function(e){return x.apply(this,arguments)}},a.a.createElement(f.a.Group,{id:"email"},a.a.createElement(f.a.Label,null,"Email"),a.a.createElement(f.a.Control,{type:"email",ref:e,required:!0})),a.a.createElement(d.a,{disabled:b,className:"w-100",type:"submit"},"Reset Password")),a.a.createElement("div",{className:"w-100 text-center mt-3"},a.a.createElement(L.b,{to:"/login"},"Login")))),a.a.createElement("div",{className:"w-100 text-center mt-2"},"Need an account? ",a.a.createElement(L.b,{to:"/signup"},"Sign Up")))}function B(){var e=Object(n.useRef)(),t=Object(n.useRef)(),r=Object(n.useRef)(),o=O(),c=o.currentUser,i=o.updatePassword,m=o.updateEmail,h=Object(n.useState)(""),p=Object(l.a)(h,2),v=p[0],y=p[1],g=Object(n.useState)(!1),E=Object(l.a)(g,2),b=E[0],w=E[1],x=Object(j.g)();return a.a.createElement(k,null,a.a.createElement(u.a,null,a.a.createElement(u.a.Body,null,a.a.createElement("h2",{className:"text-center mb-4"},"Update Profile"),v&&a.a.createElement(s.a,{variant:"danger"},v),a.a.createElement(f.a,{onSubmit:function(n){if(n.preventDefault(),t.current.value!==r.current.value)return y("Passwords do not match");var a=[];w(!0),y(""),e.current.value!==c.email&&a.push(m(e.current.value)),t.current.value&&a.push(i(t.current.value)),Promise.all(a).then((function(){x.push("/user")})).catch((function(){y("Failed to update account")})).finally((function(){w(!1)}))}},a.a.createElement(f.a.Group,{id:"email"},a.a.createElement(f.a.Label,null,"Email"),a.a.createElement(f.a.Control,{type:"email",ref:e,required:!0,defaultValue:c.email})),a.a.createElement(f.a.Group,{id:"password"},a.a.createElement(f.a.Label,null,"Password"),a.a.createElement(f.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})),a.a.createElement(f.a.Group,{id:"password-confirm"},a.a.createElement(f.a.Label,null,"Password Confirmation"),a.a.createElement(f.a.Control,{type:"password",ref:r,placeholder:"Leave blank to keep the same"})),a.a.createElement(d.a,{disabled:b,className:"w-100",type:"submit"},"Update")))),a.a.createElement("div",{className:"w-100 text-center mt-2"},a.a.createElement(L.b,{to:"/user"},"Cancel")))}var U=r(23),Y="select-folder",M="update-folder",q="set-child-folders",H="set-child-files",W={name:"Root",id:null,path:[]};function z(e,t){var r=t.type,n=t.payload;switch(r){case Y:return{folderId:n.folderId,folder:n.folder,childFiles:[],childFolders:[]};case M:return Object(m.a)(Object(m.a)({},e),{},{folder:n.folder});case q:return Object(m.a)(Object(m.a)({},e),{},{childFolders:n.childFolders});case H:return Object(m.a)(Object(m.a)({},e),{},{childFiles:n.childFiles});default:return e}}var V=r(128),X=r(27),J=r(28),K=r(130),Z="box",Q={border:"1px dashed gray",backgroundColor:"white",padding:"0.5rem 1rem",marginRight:"1.5rem",marginBottom:"1.5rem",float:"left"},$=(a.a.createContext(),function(e){var t=e.name,r=e.setOpen,o=Object(n.useState)(!1),c=Object(l.a)(o,2),i=(c[0],c[1]),u=Object(K.a)((function(){return{type:Z,item:{name:t},end:function(e,t){var n=t.getDropResult();if(e&&n){var a="";if("any"===n.allowedDropEffect||n.allowedDropEffect===n.dropEffect){var o="copy"===n.dropEffect;a="You ".concat(o?"copied":"moved"," ").concat(e.name," into ").concat(n.name,"!"),i(!0),r(!0)}else a="You cannot ".concat(n.dropEffect," an item into the ").concat(n.name);alert(a)}},collect:function(e){return{opacity:e.isDragging()?.4:1}}}}),[t]),s=Object(l.a)(u,2),f=s[0].opacity,d=s[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{ref:d,style:Object(m.a)(Object(m.a)({},Q),{},{opacity:f})},t))}),ee=r(131),te={height:"6rem",width:"10rem",marginRight:"1.5rem",marginBottom:"1.5rem",color:"#999999",padding:"1rem",textAlign:"center",fontSize:"1rem",lineHeight:"normal",float:"left",position:"fixed",top:"4rem",left:"37rem"};var re=function(e){var t=e.allowedDropEffect,r=Object(ee.a)((function(){return{accept:Z,drop:function(){return{name:"".concat(t," Dustbin"),allowedDropEffect:t}},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}}),[t]),n=Object(l.a)(r,2),o=n[0],c=o.canDrop,i=o.isOver,u=n[1],s=c&&i,f=function(e,t){return e?"darkgreen":t?"darkkhaki":"#CCCCFF"}(s,c);return a.a.createElement("div",{ref:u,style:Object(m.a)(Object(m.a)({},te),{},{backgroundColor:f})},a.a.createElement("h3",null,"+"),s?"Release to drop":"Drop here")},ne=function(e){return a.a.createElement("div",null,a.a.createElement("div",{style:{overflow:"hidden",clear:"both"}},a.a.createElement(re,{allowedDropEffect:"any"})),a.a.createElement("div",{style:{overflow:"hidden",clear:"both"}},a.a.createElement($,{setOpen:e.setOpen,name:"Add Folder"})))},ae=r(127),oe=r(84),ce=(r(101),r(29));function ie(){var e=Object(ce.c)((function(e){return e.changeNumber})),t=Object(ce.c)((function(e){return e.rolePermission})),r=Object(ce.b)();return a.a.createElement("nav",{className:"navbar_outer"},a.a.createElement("div",{className:"brand_nav"},a.a.createElement("p",{className:"m-0"},"MuCrest Drive")),a.a.createElement("div",null,"Theme"),a.a.createElement("div",{className:"quantity"},a.a.createElement("button",{className:"quantity_minus",title:"Decrement",onClick:function(){r({type:"DECREMENT"})}},"white"),document.body.style.backgroundColor="red"===e?"brown":"white",a.a.createElement("button",{className:"quantity_plus",title:"Increment",style:{backgroundColor:"brown",color:"white"},onClick:function(){r({type:"INCREMENT"}),console.log(e)}},"gray")),a.a.createElement("div",null,"Role"),a.a.createElement("div",null,a.a.createElement("label",null,"Editor"),a.a.createElement("input",{type:"checkbox",onClick:function(e){console.log(e.target.checked),e.target.checked&&(r({type:"edit"}),console.log(t))}})),a.a.createElement("div",null,a.a.createElement("label",null,"Read Only"),a.a.createElement("input",{type:"checkbox",onClick:function(e){console.log(e.target.checked),e.target.checked&&r({type:"read"}),console.log(t)}})),a.a.createElement("div",{className:"profile_nav"},a.a.createElement("p",{className:"m-0"},a.a.createElement(L.b,{to:"/user"}," Profile ")," ")))}r(105);function le(e){var t=e.currentFolder,r=Object(n.useState)(!1),o=Object(l.a)(r,2),c=o[0],i=o[1],u=Object(n.useState)(""),s=Object(l.a)(u,2),m=s[0],h=s[1],p=O().currentUser;function v(){i(!1)}var y=Object(n.useContext)(we);return a.a.createElement(a.a.Fragment,null,!y&&a.a.createElement("label",{onClick:function(){i(!0)},className:"add_folder_icon_outer",variant:"outline-success",size:"sm"},a.a.createElement(X.a,{icon:J.e,className:"icon"})),a.a.createElement(V.a,{show:c,onHide:v},a.a.createElement(f.a,{onSubmit:function(e){if(e.preventDefault(),null!=t){var r=Object(U.a)(t.path);t!==W&&r.push({name:t.name,id:t.id}),g.folders.add({name:m,parentId:t.id,userId:p.uid,path:r,createdAt:g.getCurrentTimestamp()}),h(""),v()}}},a.a.createElement(V.a.Body,null,a.a.createElement(f.a.Group,null,a.a.createElement(f.a.Label,null,"Folder Name"),a.a.createElement(f.a.Control,{type:"text",required:!0,value:m,onChange:function(e){return h(e.target.value)}}))),a.a.createElement(V.a.Footer,null,a.a.createElement(d.a,{variant:"secondary",onClick:v},"Close"),a.a.createElement(d.a,{variant:"success",type:"submit"},"Add")))),y&&a.a.createElement(ae.a,{backend:oe.a},a.a.createElement(ne,{setOpen:i})))}var ue=r(134),se=r(133),fe=r(136),de=r(82),me=r.n(de);r(113);function he(e){var t=e.currentFolder,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],u=o[1],s=O().currentUser;function f(e){if(null!=t&&null!=e){var r=Object(ue.a)();u((function(t){return[].concat(Object(U.a)(t),[{id:r,name:e.name,progress:0,error:!1}])}));var n=t===W?"".concat(t.path.join("/"),"/").concat(e.name):"".concat(t.path.join("/"),"/").concat(t.name,"/").concat(e.name),a=me.a.storage().ref("/files/".concat(s.uid,"/").concat(n)).put(e);a.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes;u((function(e){return e.map((function(e){return e.id===r?Object(m.a)(Object(m.a)({},e),{},{progress:t}):e}))}))}),(function(){u((function(e){return e.map((function(e){return e.id===r?Object(m.a)(Object(m.a)({},e),{},{error:!0}):e}))}))}),(function(){u((function(e){return e.filter((function(e){return e.id!==r}))})),a.snapshot.ref.getDownloadURL().then((function(r){g.files.where("name","==",e.name).where("userId","==",s.uid).where("folderId","==",t.id).get().then((function(n){var a=n.docs[0];a?a.ref.update({url:r}):g.files.add({url:r,name:e.name,createdAt:g.getCurrentTimestamp(),folderId:t.id,userId:s.uid})}))}))}))}}return a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{className:"add_file_icon_outer"},a.a.createElement(X.a,{icon:J.c,className:"icon"}),a.a.createElement("input",{type:"file",onChange:function(e){for(var t=0;t<e.target.files.length;t++)f(e.target.files[t])},multiple:!0,style:{opacity:0,position:"absolute",left:"-9999px"}})),i.length>0&&c.a.createPortal(a.a.createElement("div",{style:{position:"absolute",bottom:"1rem",right:"1rem",maxWidth:"250px"}},i.map((function(e){return a.a.createElement(se.a,{key:e.id,onClose:function(){u((function(t){return t.filter((function(t){return t.id!==e.id}))}))}},a.a.createElement(se.a.Header,{closeButton:e.error,className:"text-truncate w-100 d-block"},e.name),a.a.createElement(se.a.Body,null,a.a.createElement(fe.a,{animated:!e.error,variant:e.error?"danger":"primary",now:e.error?100:100*e.progress,label:e.error?"Error":"".concat(Math.round(100*e.progress),"%")})))}))),document.body))}r(114);var pe=function(e,t){console.log("tesaja");var r=[],n=function(n){r.find((function(e){return e===n.key}))||r.push(n.key),r.length===t.length&&0===function(){var e=t.length;return t.forEach((function(t){r.find((function(e){return t===e}))&&(e-=1)})),e}()&&e()},a=function(e){r=r.filter((function(t){return t!==e.key}))};return window.addEventListener("keydown",n),window.addEventListener("keyup",a),function(){window.removeEventListener("keydown",n),window.removeEventListener("keyup",a)}};function ve(e){var t=e.folder,r=Object(n.useState)(t.id),o=Object(l.a)(r,2),c=(o[0],o[1],Object(n.useState)(!1)),i=Object(l.a)(c,2),u=i[0],s=i[1],f=Object(n.useState)(!0),m=Object(l.a)(f,2),h=m[0],p=m[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),b=(y[0],y[1]),w=Object(n.useState)(),O=Object(l.a)(w,2),x=O[0],j=O[1],N=Object(ce.c)((function(e){return e.rolePermission}));pe((function(){x&&(g.folders.doc(t.id).delete(),g.folders.add(x),j(""))}),["Shift","Enter"]);var k=Object(n.useState)([]),_=Object(l.a)(k,2),S=_[0],F=(_[1],Object(n.useState)(!1)),I=Object(l.a)(F,2),C=I[0],P=I[1];document.addEventListener("click",(function(e){if(!e.target.closest("#container")&&t.id){var r=document.getElementById(t.id);r&&(r.style.display="none"),b(!1)}})),Object(n.useEffect)((function(){console.log(C)}),[C]);return a.a.createElement(a.a.Fragment,null,!u&&a.a.createElement(d.a,{onClick:function(){console.log("test pg")},className:"dashboard_folder_icon",to:{pathname:"/folder/".concat(t.id),state:{folder:t}},onContextMenu:function(e){e.preventDefault(),b(!0);var r=document.getElementById(t.id);console.log(r),r.style.cssText="\n    position: fixed;\n    z-index: 10000;\n    width: 150px;\n    background: #1b1a1a;\n    border-radius: 5px;\n    display: none;\n    color: white;\n    ";var n=e.clientX,a=e.clientY;r.style.top="".concat(a,"px"),r.style.left="".concat(n,"px"),r.classList.add("visible"),r.classList.add("block"),r.style.display="block"},as:L.b},a.a.createElement("div",{className:"icon_part"},a.a.createElement(X.a,{icon:J.d,className:"icon"})),a.a.createElement("div",{className:"name_part"},x&&a.a.createElement("i",{className:"m-0"},t.name),!x&&a.a.createElement("p",{className:"m-0"},t.name))),u&&a.a.createElement("div",{className:"edit_mode_outer"},a.a.createElement("div",{className:"input"},a.a.createElement("input",{type:"text",placeholder:"Enter the Folder Name",defaultValue:t.name,onChange:function(e){e.preventDefault(),console.log(e.target.value),p(e.target.value)}})),a.a.createElement("div",{className:"editButtons"},a.a.createElement("div",{className:"iconOuter saveIcon"},a.a.createElement(X.a,{onClick:function(){g.folders.doc(t.id).update({name:h}),console.log(S),s(!1)},icon:J.a,className:"icon"})),a.a.createElement("div",{className:"iconOuter cancelIcon"},a.a.createElement(X.a,{onClick:function(){return s(!1)},icon:J.f,className:"icon"})))),t.id&&a.a.createElement("div",{className:"menu_container",style:{display:"none"},id:t.id},a.a.createElement("div",{className:"item",onClick:function(){"read"!==N?(g.folders.doc(t.id).delete().then((function(e){console.log(e.data())})).catch((function(e){})),P(!0)):alert("You don't have the permission to delete this folder")}},"delete"),a.a.createElement("div",{className:"item",onClick:function(){"read"!==N?s(!0):alert("You don't have the permission to rename this folder")}},"rename"),a.a.createElement("div",{className:"item",onClick:function(){console.log(N),"read"!==N?(localStorage.setItem("moveId",t.id),E.collection("folders").doc(t.id).get().then((function(e){e.exists?console.log("Document data:",e.data()):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))):alert("You don't have the permission to move this folder")}},"move"),a.a.createElement("div",{className:"item"},"properties")))}r(115);function ye(e){var t=e.file,r=Object(n.useState)(!1),o=Object(l.a)(r,2),c=(o[0],o[1]),i=Object(n.useState)(),u=Object(l.a)(i,2),s=(u[0],u[1]),f=Object(n.useState)(!1),d=Object(l.a)(f,2),m=d[0],h=d[1],p=Object(n.useState)(),v=Object(l.a)(p,2),y=v[0],b=v[1];return document.addEventListener("click",(function(e){if(!e.target.closest("#container")&&t.id){var r=document.getElementById(t.id);r&&(r.style.display="none"),c(!1)}})),a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{href:t.url,className:"each_file_icon",onContextMenu:function(e){e.preventDefault(),c(!0);var r=document.getElementById(t.id);console.log(r),r.style.cssText="\n    position: fixed;\n    z-index: 10000;\n    width: 150px;\n    background: #1b1a1a;\n    border-radius: 5px;\n    display: none;\n    color: white;\n    ";var n=e.clientX,a=e.clientY;r.style.top="".concat(a,"px"),r.style.left="".concat(n,"px"),r.classList.add("visible"),r.classList.add("block"),r.style.display="block"}},a.a.createElement(X.a,{icon:J.b,className:"file_icon"}),a.a.createElement("div",{className:"file_name"},a.a.createElement("p",{className:"m-0"},t.name))),m&&a.a.createElement("div",{className:"properties_outer"},a.a.createElement("div",{className:"properties_inner"},a.a.createElement("div",{className:"close_icon",onClick:function(){return h(!1)}},"X"),a.a.createElement("h4",null,"Details"),a.a.createElement("div",null,"Name: ",t.name.split(".")[0]),a.a.createElement("div",null),a.a.createElement("div",null,"Created Date: ",y),a.a.createElement("div",null,"Type: ",t.name.split(".")[t.name.split(".").length-1]),a.a.createElement("div",null,"Url: ",a.a.createElement("a",{href:t.url},t.url)))),a.a.createElement("div",{className:"menu_container",style:{display:"none"},id:t.id},a.a.createElement("div",{className:"item",onClick:function(){g.files.doc(t.id).delete().then((function(e){console.log(e.data())})).catch((function(e){}))}},"delete"),a.a.createElement("div",{className:"item",onClick:function(){localStorage.setItem("moveFileId",t.id),E.collection("files").doc(t.id).get().then((function(e){e.exists?console.log("Document data:",e.data()):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}},"move"),a.a.createElement("div",{className:"item",onClick:function(e){e.preventDefault(),h(!0),g.files.doc(t.id).get().then((function(e){console.log(e.data());var t=new Date(1e3*e.data().createdAt.seconds).toUTCString();b(t),s(e.data())})).catch((function(e){}))}},"properties")))}var ge=r(137);function Ee(e){var t=e.currentFolder,r=t===W?[]:[W];return t&&(r=[].concat(Object(U.a)(r),Object(U.a)(t.path))),a.a.createElement(a.a.Fragment,null,a.a.createElement(ge.a,{className:"flex-grow-1",listProps:{className:"bg-white pl-0 m-0"}},r.map((function(e,t){return a.a.createElement(ge.a.Item,{key:e.id,linkAs:L.b,linkProps:{to:{pathname:e.id?"/folder/".concat(e.id):"/",state:{folder:Object(m.a)(Object(m.a)({},e),{},{path:r.slice(1,t)})}}},className:"text-truncate d-inline-block",style:{maxWidth:"150px"}},e.name)})),t&&a.a.createElement(ge.a.Item,{className:"text-truncate d-inline-block",style:{maxWidth:"200px"},active:!0},t.name)))}r(116);function be(){var e=Object(j.i)().folderId,t=Object(j.h)().state,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Object(n.useReducer)(z,{folderId:e,folder:t,childFolders:[],childFiles:[]}),a=Object(l.a)(r,2),o=a[0],c=a[1],i=O(),u=i.currentUser;return Object(n.useEffect)((function(){c({type:Y,payload:{folderId:e,folder:t}})}),[e,t]),Object(n.useEffect)((function(){if(null==e)return c({type:M,payload:{folder:W}});g.folders.doc(e).get().then((function(e){c({type:M,payload:{folder:g.formatDoc(e)}})})).catch((function(){c({type:M,payload:{folder:W}})}))}),[e]),Object(n.useEffect)((function(){return g.folders.where("parentId","==",e).where("userId","==",u.uid).orderBy("createdAt").onSnapshot((function(e){c({type:q,payload:{childFolders:e.docs.map(g.formatDoc)}})}))}),[e,u]),Object(n.useEffect)((function(){return g.files.where("folderId","==",e).where("userId","==",u.uid).onSnapshot((function(e){c({type:H,payload:{childFiles:e.docs.map(g.formatDoc)}})}))}),[e,u]),o}(e,(void 0===t?{}:t).folder),o=r.folder,c=r.childFolders,i=r.childFiles,u=Object(n.useState)(!1),s=Object(l.a)(u,2),m=s[0],h=s[1],p=Object(n.useState)(""),v=Object(l.a)(p,2),y=v[0],E=v[1];Object(ce.c)((function(e){return e.changeNumber})),Object(ce.b)();function b(){h(!1)}return a.a.createElement(a.a.Fragment,null,a.a.createElement(ie,null),a.a.createElement("section",{className:"dashboard_container_outer"},a.a.createElement("div",{className:"breadcrums_file_folder_outer d-flex justify-content-center align-items-center"},a.a.createElement(Ee,{currentFolder:o}),a.a.createElement(he,{currentFolder:o}),a.a.createElement("div",{className:"ml-3"},a.a.createElement(le,{currentFolder:o}))),a.a.createElement("div",{className:"folder_file_container_outer"},a.a.createElement("div",{className:"folder_file_container_outer_inner"},c.length>0&&a.a.createElement("div",{className:"folder_file_container_inner"},c.map((function(e){return a.a.createElement("div",{key:e.id},a.a.createElement(V.a,{show:m,onHide:b},a.a.createElement(f.a,{onSubmit:function(e){e.preventDefault(),h(!1)}},a.a.createElement(V.a.Body,null,a.a.createElement(f.a.Group,null,a.a.createElement(f.a.Label,null,"Folder Name"),a.a.createElement(f.a.Control,{type:"text",required:!0,value:y,onChange:function(e){return E(e.target.value)}}))),a.a.createElement(V.a.Footer,null,a.a.createElement(d.a,{variant:"secondary",onClick:b},"Close"),a.a.createElement(d.a,{variant:"success",type:"submit"},"Update Folder")))),a.a.createElement(ve,{folder:e}))}))),c.length>0&&i.length>0&&a.a.createElement("hr",null),i.length>0&&a.a.createElement("div",{className:"folder_file_container_inner"},i.map((function(e){return a.a.createElement("div",{key:e.id,style:{maxWidth:"250px"},className:"p-2"},a.a.createElement(ye,{file:e}))}))))),(localStorage.getItem("moveId")||localStorage.getItem("moveFileId"))&&a.a.createElement("section",{className:"move_part",onClick:function(){localStorage.getItem("moveId")&&(g.folders.doc(localStorage.getItem("moveId")).update({parentId:o.id,path:Object(U.a)(o.path)}),localStorage.clear("moveId")),localStorage.getItem("moveFileId")&&(g.files.doc(localStorage.getItem("moveFileId")).update({folderId:o.id}),localStorage.clear("moveFileId"))}},a.a.createElement("p",null,"Move Here"))))}var we=Object(n.createContext)();var Oe=function(e){return e.disableUpdateProfiles?a.a.createElement(a.a.Fragment,null,a.a.createElement(we.Provider,{value:e.dragMode},a.a.createElement(L.a,null,a.a.createElement(x,null,a.a.createElement(j.d,null,a.a.createElement(T,{exact:!0,path:"/",testData:"test data",component:be}),a.a.createElement(T,{exact:!0,path:"/folder/:folderId",component:be}),a.a.createElement(j.b,{path:"/signup",component:S}),a.a.createElement(j.b,{path:"/login",component:P}),a.a.createElement(j.b,{path:"/forgot-password",component:A})))))):e.disableUpdateProfiles?void 0:a.a.createElement(a.a.Fragment,null,a.a.createElement(we.Provider,{value:e.dragMode},a.a.createElement(L.a,null,a.a.createElement(x,null,a.a.createElement(j.d,null,a.a.createElement(T,{exact:!0,path:"/",component:be}),a.a.createElement(T,{exact:!0,path:"/folder/:folderId",component:be}),a.a.createElement(T,{path:"/user",component:I}),a.a.createElement(T,{path:"/update-profile",component:B}),a.a.createElement(j.b,{path:"/signup",component:S}),a.a.createElement(j.b,{path:"/login",component:P}),a.a.createElement(j.b,{path:"/forgot-password",component:A}))))))},xe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,138)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),o(e),c(e)}))},je=r(36),Le=r(83),Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"test",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return"red";case"DECREMENT":return"blue";default:return e}},ke=Object(je.b)({changeNumber:Ne,rolePermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"test",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"edit":return"edit";case"read":return"read";default:return e}}}),_e=[Le.a],Se=Object(je.d)(ke,Object(je.c)(je.a.apply(void 0,_e)));r(117);window.testPGH=function(){console.log("drive fetched")},window.renderDrive=function(e,t){c.a.render(a.a.createElement(a.a.Fragment,null,a.a.createElement(a.a.StrictMode,null,a.a.createElement(Oe,t))),document.getElementById(e))},window.unmountHeader=function(e){c.a.unmountComponentAtNode(document.getElementById(e))},c.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ce.a,{store:Se},a.a.createElement(Oe,null)))),xe()},87:function(e,t,r){e.exports=r(118)}},[[87,1,2]]]);
//# sourceMappingURL=main.4bcee4b8.chunk.js.map